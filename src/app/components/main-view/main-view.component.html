<div class="main-div">
    <div class="title-container">
        <img src="../../../assets/images/MHP3rd_Logo.webp" alt="Mhlogo">
        <h1>Build Maker</h1>
    </div>
    <div class="main-container">
        <div class="armor-set-container">
            <app-armor-slot 
                [bodyPart]="partToDisplay.helmet" 
                [_class]="equipedArmor.get(partToDisplay.helmet) ? equipedArmor.get(partToDisplay.helmet)!.class : null"
                [rare]="equipedArmor.get(partToDisplay.helmet) ? equipedArmor.get(partToDisplay.helmet)!.rare : 1" 
                [name]="equipedArmor.get(partToDisplay.helmet) ? equipedArmor.get(partToDisplay.helmet)!.name : 'Click to equip'"
                (checkBoxChangeEvent)="helmetDone = $event.valueOf()"
                (pressedArmorSlotEvent)="selectPart(partToDisplay.helmet)"
                />
            <app-armor-slot 
                [bodyPart]="partToDisplay.plate" 
                [_class]="equipedArmor.get(partToDisplay.plate) ? equipedArmor.get(partToDisplay.plate)!.class : null"
                [rare]="equipedArmor.get(partToDisplay.plate) ? equipedArmor.get(partToDisplay.plate)!.rare : 1" 
                [name]="equipedArmor.get(partToDisplay.plate) ? equipedArmor.get(partToDisplay.plate)!.name: 'Click to equip'"
                (checkBoxChangeEvent)="plateDone = $event.valueOf()"
                (pressedArmorSlotEvent)="selectPart(partToDisplay.plate)"
            />
            <app-armor-slot 
                [bodyPart]="partToDisplay.guantlets" 
                [_class]="equipedArmor.get(partToDisplay.guantlets) ? equipedArmor.get(partToDisplay.guantlets)!.class : null"
                [rare]="equipedArmor.get(partToDisplay.guantlets) ? equipedArmor.get(partToDisplay.guantlets)!.rare : 1" 
                [name]="equipedArmor.get(partToDisplay.guantlets) ? equipedArmor.get(partToDisplay.guantlets)!.name : 'Click to equip'"
                (checkBoxChangeEvent)="guantletsDone = $event.valueOf()"
                (pressedArmorSlotEvent)="selectPart(partToDisplay.guantlets)"
            />
            <app-armor-slot 
                [bodyPart]="partToDisplay.waist" 
                [_class]="equipedArmor.get(partToDisplay.waist) ? equipedArmor.get(partToDisplay.waist)!.class : null" 
                [rare]="equipedArmor.get(partToDisplay.waist) ? equipedArmor.get(partToDisplay.waist)!.rare : 1" 
                [name]="equipedArmor.get(partToDisplay.waist) ? equipedArmor.get(partToDisplay.waist)!.name: 'Click to equip'"
                (checkBoxChangeEvent)="waistDone = $event.valueOf()"
                (pressedArmorSlotEvent)="selectPart(partToDisplay.waist)"
            />
            <app-armor-slot 
                [bodyPart]="partToDisplay.leggings" 
                [_class]="equipedArmor.get(partToDisplay.leggings) ? equipedArmor.get(partToDisplay.leggings)!.class : null"
                [rare]="equipedArmor.get(partToDisplay.leggings) ? equipedArmor.get(partToDisplay.leggings)!.rare : 1" 
                [name]="equipedArmor.get(partToDisplay.leggings) ? equipedArmor.get(partToDisplay.leggings)!.name : 'Click to equip'"
                (checkBoxChangeEvent)="legginsDone = $event.valueOf()"
                (pressedArmorSlotEvent)="selectPart(partToDisplay.leggings)"
                />
        </div>
        <p style="font-size: 12px; color: grey; text-align: center;">
            Mark the checkbox as done if you have the part arleady.
        </p>

        <div class="save-div">
            <button><img src="assets/images/save2.png" alt=""> Save!</button>
        </div>

        <div class="dashboard-container-mobile" *ngIf="(isMobile | async); else desktopTemplate">
            <div>
                <button (click)="[showOnMobile = 0]"
                [ngClass]="showOnMobile === 0 ? 'dash-btn active' : 'dash-btn'">Stats</button>
                <button (click)="[showOnMobile = 1]"
                [ngClass]="showOnMobile === 1 ? 'dash-btn active' : 'dash-btn'">Skills</button>
                <button (click)="[showOnMobile = 2]"
                [ngClass]="showOnMobile === 2 ? 'dash-btn active' : 'dash-btn'">Resources</button>
            </div>
            <div class="component-container"  [ngSwitch]="showOnMobile">
                <app-stats-box *ngSwitchCase="0" [armor]="equipedArmorArray"></app-stats-box>
                <app-skills-box *ngSwitchCase="1" [armor]="equipedArmorArray"></app-skills-box>
                <app-resources-box *ngSwitchCase="2" [armor]="equipedArmorArrayResources"></app-resources-box>
            </div>
        </div>

        <ng-template #desktopTemplate>
            Hola pero desktop
        </ng-template>

    </div>
</div>

<app-piece-modal 
    [armor]="equipedArmor.get(selectedPart)!"
    [bodyPart]="selectedPart"
    (changeEventEmitter)="ChangeSelectedPart()"
    (removeEventEmitter)="RemoveSelectedPart()"
/>