<div class="main-div">
    <div class="title-container">
        <img src="../../../assets/images/MHP3rd_Logo.webp" alt="Mhlogo">
        <h1>Build Maker</h1>
    </div>
    <div class="main-container">
        <div class="armor-set-container">
            <app-armor-slot 
                [bodyPart]="'helmet'" 
                [_class]="equipedArmor.get('helmet') ? equipedArmor.get('helmet')!.class : null"
                [rare]="equipedArmor.get('helmet') ? equipedArmor.get('helmet')!.rare : 1" 
                [name]="equipedArmor.get('helmet') ? equipedArmor.get('helmet')!.name : 'Click to equip'"
                (checkBoxChangeEvent)="helmetDone = $event.valueOf()"
                (pressedArmorSlotEvent)="selectPart('helmet')"
                />
            <app-armor-slot 
                [bodyPart]="'plate'" 
                [_class]="equipedArmor.get('plate') ? equipedArmor.get('plate')!.class : null"
                [rare]="equipedArmor.get('plate') ? equipedArmor.get('plate')!.rare : 1" 
                [name]="equipedArmor.get('plate') ? equipedArmor.get('plate')!.name: 'Click to equip'"
                (checkBoxChangeEvent)="plateDone = $event.valueOf()"
                (pressedArmorSlotEvent)="selectPart('plate')"
            />
            <app-armor-slot 
                [bodyPart]="'guantlets'" 
                [_class]="equipedArmor.get('guantlets') ? equipedArmor.get('guantlets')!.class : null"
                [rare]="equipedArmor.get('guantlets') ? equipedArmor.get('guantlets')!.rare : 1" 
                [name]="equipedArmor.get('guantlets') ? equipedArmor.get('guantlets')!.name : 'Click to equip'"
                (checkBoxChangeEvent)="guantletsDone = $event.valueOf()"
                (pressedArmorSlotEvent)="selectPart('guantlets')"
            />
            <app-armor-slot 
                [bodyPart]="'waist'" 
                [_class]="equipedArmor.get('waist') ? equipedArmor.get('waist')!.class : null" 
                [rare]="equipedArmor.get('waist') ? equipedArmor.get('waist')!.rare : 1" 
                [name]="equipedArmor.get('waist') ? equipedArmor.get('waist')!.name: 'Click to equip'"
                (checkBoxChangeEvent)="waistDone = $event.valueOf()"
                (pressedArmorSlotEvent)="selectPart('waist')"
            />
            <app-armor-slot 
                [bodyPart]="'leggings'" 
                [_class]="equipedArmor.get('leggings') ? equipedArmor.get('leggings')!.class : null"
                [rare]="equipedArmor.get('leggings') ? equipedArmor.get('leggings')!.rare : 1" 
                [name]="equipedArmor.get('leggings') ? equipedArmor.get('leggings')!.name : 'Click to equip'"
                (checkBoxChangeEvent)="legginsDone = $event.valueOf()"
                (pressedArmorSlotEvent)="selectPart('leggings')"
                />
        </div>
        <p style="font-size: 12px; color: grey; text-align: center;">
            Mark the checkbox as done if you have the part arleady.
        </p>


        <div class="dashboard-container-mobile" *ngIf="(isMobile | async); else desktopTemplate">
            <div>
                <button (click)="[showOnMobile = 0]"
                [ngClass]="showOnMobile === 0 ? 'dash-btn active' : 'dash-btn'">Stats</button>
                <button (click)="[showOnMobile = 1]"
                [ngClass]="showOnMobile === 1 ? 'dash-btn active' : 'dash-btn'">Skills</button>
                <button (click)="[showOnMobile = 2]"
                [ngClass]="showOnMobile === 2 ? 'dash-btn active' : 'dash-btn'">Resources</button>
            </div>
            <div class="component-container"  [ngSwitch]="showOnMobile">
                <app-stats-box *ngSwitchCase="0" [armor]="equipedArmorArray"></app-stats-box>
                <app-skills-box *ngSwitchCase="1" [armor]="equipedArmorArray"></app-skills-box>
                <app-resources-box *ngSwitchCase="2" [armor]="equipedArmorArrayResources"></app-resources-box>
            </div>
        </div>

        <ng-template #desktopTemplate>
            Hola pero desktop
        </ng-template>

    </div>
</div>

<app-piece-modal 
    [armor]="equipedArmor.get(selectedPart)!"
    [bodyPart]="selectedPart"
    (changeEventEmitter)="ChangeSelectedPart()"
    (removeEventEmitter)="RemoveSelectedPart()"
/>